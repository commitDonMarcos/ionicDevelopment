<ion-header>
  <ion-toolbar color="primary">
    <ion-title>{{ task?.title || 'Task Details' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="task-info" *ngIf="task">
    <p *ngIf="task.deadline">Deadline: {{ task.deadline | date:'medium' }}</p>
    <p>Total Items: {{ questions.length }}</p>
  </div>

  <ion-card *ngFor="let q of questions; let i = index">
    <ion-card-header>
      <ion-card-title>Question {{ i + 1 }}</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <p>{{ q.text || q.question }}</p>

      <ion-list>
        <ion-radio-group [(ngModel)]="answers[i]">
          <ion-item *ngFor="let choice of q.choices; let c = index">
            <ion-label>
              <strong>{{ 'ABCD'[c] }}.</strong> {{ choice }}
            </ion-label>
            <ion-radio slot="end" [value]="choice"></ion-radio>
          </ion-item>
        </ion-radio-group>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <ion-button expand="block" color="primary" (click)="submit()">
    Submit
  </ion-button>
</ion-content>
